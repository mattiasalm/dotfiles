#!/bin/zsh -e

# Include tools as binary functions
PATH=$PATH:$DOTFILES_PATH/tools

_BIN_NAME=$(basename $0)
_COMMAND=$1

show_help() {
	color-print green "\nUsage of: $_BIN_NAME <command>\n\n"
	color-print green "Commands:"
	color-print green "  help\t\t\t\t- Show this help message"
	color-print green "  macos-settings\t\t- Applies macOS settings"
	color-print green "  prepare\t\t\t- Prepare system for further installation"
	color-print green "  managers\t\t\t- Install application managers"
	color-print green "  applications\t\t\t- Install applications"
}

case $_COMMAND in
	"" | "--help" | "-h" | "help")
		show_help
		;;

	*)
		shift
		if [ -f $DOTFILES_PATH/commands/$_COMMAND.sh ]; then
			color-print cyan "\nRuns $_COMMAND command...\n"
			. $DOTFILES_PATH/commands/$_COMMAND.sh $@
		else
			color-print red "Command \"$_COMMAND\" can not be found.\n\n"
			show_help
		fi
		;;
esac